<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>LiDAR Modeling Engine: /home/ncasler/apps/DSME/src/hilbert.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">LiDAR Modeling Engine
   &#160;<span id="projectnumber">0.0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">hilbert.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>File containing point filtration methods.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;limits.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;inttypes.h&gt;</code><br />
<code>#include &lt;math.h&gt;</code><br />
<code>#include &lt;hilbert.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for hilbert.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d59/hilbert_8c__incl.png" border="0" usemap="#_2home_2ncasler_2apps_2DSME_2src_2hilbert_8c" alt=""/></div>
<map name="_2home_2ncasler_2apps_2DSME_2src_2hilbert_8c" id="_2home_2ncasler_2apps_2DSME_2src_2hilbert_8c">
<area shape="rect" id="node8" href="../../dc/dba/hilbert_8h_source.html" title="hilbert.h" alt="" coords="194,95,261,121"/></map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a89d7ab05b964fcb47cc1adacdedb16d7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a89d7ab05b964fcb47cc1adacdedb16d7"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>HILBERT_C</b></td></tr>
<tr class="separator:a89d7ab05b964fcb47cc1adacdedb16d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac25189db92959bff3c6c2adf4c34b50a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac25189db92959bff3c6c2adf4c34b50a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DIM</b>&#160;&#160;&#160;2</td></tr>
<tr class="separator:ac25189db92959bff3c6c2adf4c34b50a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aed2497e6ce866dec2ff4d41a2727fdc5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aed2497e6ce866dec2ff4d41a2727fdc5"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>calc_P</b> (int i, <a class="el" href="../../dd/d41/structHcode.html">Hcode</a> H)</td></tr>
<tr class="separator:aed2497e6ce866dec2ff4d41a2727fdc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bff2ba44cd4447e908be15e77da9344"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5bff2ba44cd4447e908be15e77da9344"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>calc_P2</b> (uint32_t S)</td></tr>
<tr class="separator:a5bff2ba44cd4447e908be15e77da9344"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68c18d125efaa872bdc210bea75acd39"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a68c18d125efaa872bdc210bea75acd39"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>calc_J</b> (uint32_t P)</td></tr>
<tr class="separator:a68c18d125efaa872bdc210bea75acd39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac55f94c438fc03d434456acbf917f704"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac55f94c438fc03d434456acbf917f704"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>calc_T</b> (uint32_t P)</td></tr>
<tr class="separator:ac55f94c438fc03d434456acbf917f704"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52c238f8b861f83bcf6755fbf4f0c713"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a52c238f8b861f83bcf6755fbf4f0c713"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>calc_tS_tT</b> (uint32_t xJ, uint32_t val)</td></tr>
<tr class="separator:a52c238f8b861f83bcf6755fbf4f0c713"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45daeada8537bc237f0ebf6400a947f6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a45daeada8537bc237f0ebf6400a947f6"></a>
<a class="el" href="../../dd/d41/structHcode.html">Hpoint</a>&#160;</td><td class="memItemRight" valign="bottom"><b>H_decode</b> (<a class="el" href="../../dd/d41/structHcode.html">Hcode</a> H)</td></tr>
<tr class="separator:a45daeada8537bc237f0ebf6400a947f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ee110a1b25fe07bbdd5366d990d6f2a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3ee110a1b25fe07bbdd5366d990d6f2a"></a>
<a class="el" href="../../dd/d41/structHcode.html">Hcode</a>&#160;</td><td class="memItemRight" valign="bottom"><b>H_encode</b> (<a class="el" href="../../dd/d41/structHcode.html">Hpoint</a> pt)</td></tr>
<tr class="separator:a3ee110a1b25fe07bbdd5366d990d6f2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a553dc49f84a0874f09d55f9e84fb31d2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a553dc49f84a0874f09d55f9e84fb31d2"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>printBits</b> (size_t const size, void const *const ptr)</td></tr>
<tr class="separator:a553dc49f84a0874f09d55f9e84fb31d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad064a5ddb6f9344e748b4541b3e86f27"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad064a5ddb6f9344e748b4541b3e86f27"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>combineIndices</b> (uint64_t *outIdx, uint32_t high, uint32_t low)</td></tr>
<tr class="separator:ad064a5ddb6f9344e748b4541b3e86f27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af28b8fb4b7618175ba6ba11b4e15a506"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc5/hilbert_8c.html#af28b8fb4b7618175ba6ba11b4e15a506">less_than</a> (uint64_t a, uint64_t b)</td></tr>
<tr class="separator:af28b8fb4b7618175ba6ba11b4e15a506"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bbe5cca8f3ca305e402546026a4ad39"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8bbe5cca8f3ca305e402546026a4ad39"></a>
unsigned&#160;</td><td class="memItemRight" valign="bottom"><b>createMask</b> (unsigned start, unsigned stop)</td></tr>
<tr class="separator:a8bbe5cca8f3ca305e402546026a4ad39"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a5ab0e23ad716bd39c51f54dda5a020a2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5ab0e23ad716bd39c51f54dda5a020a2"></a>
const uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>g_mask</b> [] = {2, 1}</td></tr>
<tr class="separator:a5ab0e23ad716bd39c51f54dda5a020a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>File containing point filtration methods. </p>
<dl class="section author"><dt>Author</dt><dd>Nathan Casler </dd></dl>
<dl class="section date"><dt>Date</dt><dd>May 6 2016 Code copied from J.K. Lawder, Calculation of Mappings between One and n-dimensional Values Using the Hilbert Space-filling Curve, Research Report JL1/00, School of Computer Science and Information Systems, Birkbeck College, University of London, 2000</dd></dl>
<p>This code assumes the following</p>
<p>The macro ORDER corresponds to the order of curve and is 32, thus coordinates are 32bit values.</p>
<p>A uint32_t should be a 32bit unsigned integer.</p>
<p>The macro DIM corresponds tot he number of dimensions in a space.</p>
<p>The derived-key of a Hpoint is stored in an <a class="el" href="../../dd/d41/structHcode.html">Hcode</a> which is an array of uint32_t. The bottom bit of a derived-key is held in the bottom bit of the hcode[0] element of an <a class="el" href="../../dd/d41/structHcode.html">Hcode</a> and the top bit of a derived-key is held in the top bit of the hcode[DIM-1] element of and <a class="el" href="../../dd/d41/structHcode.html">Hcode</a>.</p>
<p>g_mask is a global array of masks which helps simplify some calculations - it has DIM elements. In each element, only one bit is zeo valued - the top bit in element no. 0 and the bottom bit in element no. (DIM - 1). eg. #if DIM == 5 const uint32_t g_mask[] = {16, 8, 4, 2, 1}; #endif #if DIM == 6 const uint32_t g_mask[] = {32, 16, 8, 4, 2, 1}; #endif etc... </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="af28b8fb4b7618175ba6ba11b4e15a506"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int less_than </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>TODO: MAKE THE SCALE CONVERSION WORK FOR FLOAT ARRAY void scaleCoords(double <em>coords, Hpoint</em> pt) { uint32_t latOff = 90.0f, lonOff = 180.0f, altOff = 12300.0f; double offsets[3] = {180.0, 90.0, 12300.0}; printf("UINTMAX: %lf\n", UINT_MAX); printf("Input coordinates: %lf, %lf, %lf\n", coords[0], coords[1], coords[2]); int i; uint32_t scales[3];</p>
<p>for (i = 0; i &lt; 3; i++) { </p><pre class="fragment">printf("Scaling coord %d\n", i);
double range = 2.0 * offsets[i];
double max = (double)UINT_MAX;
double scale = max / range;
double outCoord = scale * coords[i];
printf("%lf / %lf = %lf\n", max, range, scale);
printf("Out: %lf\n", outCoord);
scales[i] = floor(max / range);
</pre><p> printf("Scale %d is: %u, offset: %f\n", i, scales[i], offsets[i]);</p>
<pre class="fragment">    printf("Offset coord[%d] is %f\n", i, (coords[i] + offsets[i]));
    pt-&gt;hcode[i] = (uint32_t)((coords[i] + offsets[i]) * scales[i]);
    printf("Coord %d has value %lu\n", i, pt-&gt;hcode[i]);
}    
</pre><p>} </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri May 6 2016 18:37:30 for LiDAR Modeling Engine by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
